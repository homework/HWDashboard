<html>
  <head>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
    <script src="/scripts/highcharts.src.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script type="text/javascript">
var chart;
$(document).ready(function() {
   chart = new Highcharts.Chart({
      chart: {
         renderTo: 'container',
         defaultSeriesType: 'spline',
         events: {
            load: function() {
   
               // set up the updating of the chart each second
               var series = this.series[0];
               var stats = io.connect('http://192.168.1.1/stats');

               stats.on('network_stream', function(data) {
                 /*
                 var x = parseInt(data[0].timestamp) * 100,
                     y = parseInt(data[0].bytes);
                 console.log(x, y);
                 series.addPoint([x,y]);
                  */
                 console.log(data);
               });
            }
         }
      },
      title: { text: 'Live Bandwidth'},
      xAxis: {
         type: 'datetime',
         tickPixelInterval: 150
      },
      yAxis: {
         title: {
            text: 'Bytes'
         },
         plotLines: [{
            value: 0,
            width: 1,
            color: '#808080'
         }]
      },
      legend: {
         enabled: false
      },
      series: [{
        name: 'Random data',
        data: []
              },{data:[]}]
   });
   
   
});
</script>
</head>
<body>
  <div id="container"></div>
</body>
</html>
